Update the existing donation table so that it matches the target structure below, without breaking any existing code, behaviour, UI, workflows, logic, data, database schema outside this table, or security fixes.

The donation table already exists â€“ you must use ALTER TABLE (and related DDL) to evolve it to this structure.

Do NOT drop and recreate the table if it would cause data loss.

Preserve all existing data in donation.

Keep all existing foreign key relationships working.

Fix any syntax issues from the original design (e.g. ensure tot_donated_value and update_by_id are separate columns).

Use the following target definition of the donation table as the model for the final structure (you may translate this CREATE TABLE into the appropriate ALTER TABLE operations as needed):

create table donation
(
	donation_id integer not null generated by default as identity
		constraint pk_donation primary key,

	--Donor and description of donation received
	donor_id integer not null
		constraint fk_donation_donor references donor,
	donation_desc text not null,

	origin_country_id smallint not null
		constraint fk_donation_country references country,
	origin_address1_text varchar(255),
	origin_address2_text varchar(255),

	--Event for which donation was made. Default to ADHOC.
	event_id integer not null
		constraint fk_donation_event references event,
	
	--Agency that collected donation and date of collection
	custodian_id integer not null
		constraint fk_donation_custodian references custodian,

	received_date date not null
		constraint c_donation_1 check (received_date <= CURRENT_DATE),

	--Sum of item value over all items cost(s) and funds donated
	tot_donated_value decimal(12,2)
		constraint c_donation_2 check (tot_donated_value > 0.00),

	status_code char(1) not null
		--E=Entered, V=Verified, P=Processed
		constraint c_donation_3 check (status_code in ('E','V','P')),

	--Any comments related to the receipt of donation
	comments_text text,

	create_by_id varchar(20) not null,
	create_dtime timestamp(0) without time zone not null,
	update_by_id varchar(20) not null,
	update_dtime timestamp(0) without time zone not null,
	verify_by_id varchar(20) not null,
	verify_dtime timestamp(0) without time zone not null,
	version_nbr integer not null
);


Constraints:

Do not remove or weaken any existing security-related configurations (CSP, headers, TLS, cookies, SRI, etc.).

Do not change other tables (only adjust donation and its constraints/indexes as needed to align with this definition).

After migration, all existing application functionality that relies on donation must continue to work exactly as before.